{"version":3,"sources":["store/auth.js","router/renderRoutes.js","services/request.js","services/config.js","services/manage.js","pages/login/components/Passport.js","pages/login/components/UserLogin.js","pages/login/index.js","pages/live-manage/style.js","pages/live-manage/child-cpn/live-card/AddLiveRoom.js","pages/live-manage/child-cpn/live-card/style.js","pages/live-manage/child-cpn/live-card/LiveCard.js","pages/live-manage/child-cpn/live-card/LiveCards.js","pages/live-manage/index.js","pages/video-manage/components/AddLiveRoom.js","pages/video-manage/components/style.js","pages/video-manage/components/LiveCard.js","pages/video-manage/components/LiveCards.js","pages/video-manage/style.js","pages/video-manage/index.js","pages/comment-manage/style.js","pages/comment-manage/components/style.js","pages/comment-manage/components/LiveCard.js","pages/comment-manage/components/LiveCards.js","pages/comment-manage/index.js","pages/comment-detail/style.js","router/index.js","pages/comment-detail/index.js","components/frame/style.js","components/frame/index.js","App.js","index.js"],"names":["getToken","localStorage","getItem","getID","isLogin","renderRoutes","routes","authPath","extraProps","switchProps","map","route","i","path","exact","strict","render","props","authed","length","requiresAuth","component","to","pathname","state","from","location","key","instance","axios","create","baseURL","timeout","interceptors","request","use","config","userId","token","data","err","response","res","status","console","log","getVideos","method","url","getLives","Passport","this","username","password","callback","userName","login","then","success","Error","catch","type","alert","notification","message","description","withRouter","useState","setUsername","setPassword","labelCol","span","wrapperCol","name","initialValues","remember","onFinish","values","onFinishFailed","errorInfo","Item","label","rules","required","onInput","e","target","value","Password","offset","disabled","onClick","id","setItem","history","push","href","memo","LiveWrapper","styled","div","layout","AddLiveRoom","onAdd","visible","setVisible","confirmLoading","setConfirmLoading","title","setTitle","setUrl","validURL","RegExp","test","Form","useForm","form","className","onOk","setTimeout","open","icon","SmileOutlined","style","color","warning","onCancel","cancelText","okText","onChange","CardWrapper","Meta","Card","LiveCard","liveCard","onDelete","onStatus","size","width","cover","alt","src","hoverable","actions","overlay","videoId","placement","arrow","EllipsisOutlined","videoName","updatedAt","LiveCards","liveCards","wrap","setLiveCards","useEffect","list","controller","createLive","judge","deleteLive","image","Empty","PRESENTED_IMAGE_SIMPLE","des","setDes","headers","authorization","action","file","info","fileList","error","maxCount","UploadOutlined","img_url","createVideo","deleteVideo","onDetail","filter","query","DetailWrapper","LiveManage","Login","VideoManage","CommentManage","setList","header","itemLayout","dataSource","renderItem","item","content","comment","datetime","FrameWrapper","Header","Layout","Content","Footer","position","zIndex","theme","mode","defaultSelectedKeys","p","removeItem","padding","marginTop","children","textAlign","ReactDOM","document","getElementById"],"mappings":"0LAAO,SAASA,IACZ,OAAOC,aAAaC,QAAQ,SAGzB,SAASC,IACZ,OAAOF,aAAaC,QAAQ,UAezB,SAASE,IACZ,QAAIH,aAAaC,QAAQ,S,WCjBvBG,EAAe,SAACC,GAAD,IAASC,EAAT,uDAAoB,SAAUC,EAA9B,uDAA2C,GAAIC,EAA/C,uDAA6D,GAA7D,OAAoEH,EACvF,cAAC,IAAD,2BAAYG,GAAZ,aACGH,EAAOI,KAAI,SAACC,EAAOC,GAAR,OACV,cAAC,IAAD,CAEEC,KAAMF,EAAME,KACZC,MAAOH,EAAMG,MACbC,OAAQJ,EAAMI,OACdC,OAAQ,SAACC,GACP,IAAMC,EAASlB,KAAcA,IAAWmB,OAAS,EACjD,OAAKR,EAAMS,cAAgBF,GAAUP,EAAME,OAASN,EAC3C,cAACI,EAAMU,UAAP,uCAAqBJ,GAAWT,GAAhC,IAA4CG,MAAOA,KAErD,cAAC,IAAD,CAAUW,GAAI,CAAEC,SAAUhB,EAAUiB,MAAO,CAAEC,KAAMR,EAAMS,eAT7Df,EAAMgB,KAAOf,SActB,M,sEClBEgB,E,OAAWC,EAAMC,OAAO,CAC5BC,QCJiB,qCDKjBC,QCFqB,MDOvBJ,EAASK,aAAaC,QAAQC,KAAI,SAAAC,GAChC,IAAMC,EAASlC,IACTmC,EAAQtC,IAOd,OALIqC,GAAUC,IACPF,EAAOG,OAAMH,EAAOG,KAAO,IAChCH,EAAOG,KAAKF,OAASA,EACrBD,EAAOG,KAAKD,MAAQA,GAEfF,KACN,SAAAI,OAIHZ,EAASK,aAAaQ,SAASN,KAAI,SAAAO,GACjC,OAAOA,EAAIH,QACV,SAAAC,GACD,GAAIA,GAAOA,EAAIC,SACb,OAAQD,EAAIC,SAASE,QACnB,KAAK,IACHC,QAAQC,IAAI,4BACZ,MACF,KAAK,IACHD,QAAQC,IAAI,kCACZ,MACF,QACED,QAAQC,IAAI,wCAGlB,OAAOL,KAGMZ,I,YAAAA,IEpBFkB,EAAY,WACrB,OAAOZ,EAAQ,CACXa,OAAQ,OACRC,IAAK,kBAIAC,EAAW,WACpB,OAAOf,EAAQ,CACXa,OAAQ,OACRC,IAAK,iB,SCpBQE,E,WACjB,aAAe,oBAEXC,KAAK/C,SAAU,E,yCAGnB,SAAMgD,EAAUC,EAAUC,GAAW,IAAD,QDRnB,SAACC,EAAUF,GAC5B,OAAOnB,EAAQ,CACXc,IAAK,gBACLD,OAAQ,OACRR,KAAM,CACFgB,SAAUA,EACVF,SAAUA,MCadG,CAAMJ,EAAUC,GAAUI,MAAK,SAAAf,GAE3B,GADAE,QAAQC,IAAIH,IACPA,EAAIgB,QAAW,MAAO,IAAIC,MAAM,gBACrC,EAAKvD,SAAU,EACfkD,EAASZ,MACVkB,OAAM,SAAApB,GA9BgB,IAAAqB,EA+BrBC,MAAM,4BA/BeD,EAgCI,QA/BjCE,IAAaF,GAAM,CACfG,QAAS,2BACTC,YACI,kH,KC4EGC,eA/EG,SAACjD,GAAW,IAAD,EAEKkD,mBAAS,IAFd,mBAEpBf,EAFoB,KAEVgB,EAFU,OAGKD,mBAAS,IAHd,mBAGpBd,EAHoB,KAGVgB,EAHU,KA6B3B,OACI,eAAC,IAAD,2BAzBW,CACXC,SAAU,CAAEC,KAAM,GAClBC,WAAY,CAAED,KAAM,KAuBpB,IAEIE,KAAK,QACLC,cAAe,CAAEC,UAAU,GAC3BC,SArBS,SAACC,GACdjC,QAAQC,IAAI,WAAYgC,IAqBpBC,eAlBe,SAACC,GACpBnC,QAAQC,IAAI,UAAWkC,IAYvB,UAOA,cAAC,IAAKC,KAAN,CACEC,MAAM,qBACNR,KAAK,WACLS,MAAO,CAAC,CAAEC,UAAU,EAAMnB,QAAS,yCAHrC,SAKE,cAAC,IAAD,CAAOoB,QAAS,SAACC,GAAKjB,EAAYiB,EAAEC,OAAOC,YAG7C,cAAC,IAAKP,KAAN,CACEC,MAAM,eACNR,KAAK,WACLS,MAAO,CAAC,CAAEC,UAAU,EAAMnB,QAAS,mCAHrC,SAKE,cAAC,IAAMwB,SAAP,CAAgBJ,QAAS,SAACC,GAAKhB,EAAYgB,EAAEC,OAAOC,YAOtD,eAAC,IAAKP,KAAN,2BAhDe,CACfR,WAAY,CAAEiB,OAAQ,EAAGlB,KAAM,MA+C/B,cACE,cAAC,IAAD,CAAQV,KAAK,UAAU6B,WApCpBtC,EAASjC,OAAS,GAAKkC,EAASlC,OAAS,GAoCMwE,QAAS,YAE/C,IAAIzC,GACZM,MAAMJ,EAAUC,GAAU,SAACX,GN3DhC,IAAkBJ,EAIHsD,EAJGtD,EM6DFI,EAAIJ,MN5DvBrC,aAAa4F,QAAQ,QAASvD,GAGZsD,EM0DFlD,EAAIL,ONzDpBpC,aAAa4F,QAAQ,SAAUD,GMmB/B5B,IAAQN,QAAQ,kCAwCNzC,EAAM6E,QAAQC,KAAK,aARzB,0BAaF,eAAC,IAAKf,KAAN,mDACU,mBAAGgB,KAAK,YAAR,wCC3EDC,kBAAK,WAChB,OACI,gCACI,8CACA,cAAC,EAAD,U,gBCLCC,EAAcC,IAAOC,IAAV,6H,kBCIlBC,EAAS,CACb/B,SAAU,CACRC,KAAM,GAERC,WAAY,CACVD,KAAM,KAwIK+B,EA9HK,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAAY,EACDpC,oBAAS,GADR,mBACxBqC,EADwB,KACfC,EADe,OAEatC,oBAAS,GAFtB,mBAExBuC,EAFwB,KAERC,EAFQ,OAGLxC,mBAAS,IAHJ,mBAGxByC,EAHwB,KAGjBC,EAHiB,OAIT1C,mBAAS,IAJA,mBAIxBnB,EAJwB,KAInB8D,EAJmB,KAgEzBC,EAAW,SAAC/D,GAOd,QANc,IAAIgE,OAAO,wKAKJ,KACJC,KAAKjE,IAvEK,EA0EhBkE,IAAKC,UAAbC,EA1EwB,oBA4E/B,OACI,gCACA,cAAC,IAAD,CAAQC,UAAU,aAAaxD,KAAK,UAAU8B,QAtDhC,WAEhBkB,EAAS,IACTC,EAAO,IACPL,GAAW,IAkDT,sCAGI,cAAC,IAAD,CACIG,MAAM,2BACNJ,QAASA,EACTc,KApDK,WACf1E,QAAQC,IAAIkE,EAAS/D,IACjB4D,EAAMzF,OAAS,GAAK4F,EAAS/D,IAC/B2D,GAAkB,GAClBY,YAAW,WACPhB,EAAOK,EAAQ5D,GACf6D,EAAS,IACTC,EAAO,IACPL,GAAW,GACXE,GAAkB,GAlCxB3C,IAAQN,QAAQ,4BAQhBK,IAAayD,KAAK,CAChBxD,QAAS,qBACTC,YACE,gHACFwD,KAAM,cAACC,EAAA,EAAD,CAAeC,MAAO,CAAEC,MAAO,iBAyBlC,MAjCL5D,IAAQ6D,QAAQ,iHA0ENnB,eAAgBA,EAChBoB,SAlCS,WACnBrB,GAAW,IAkCDsB,WAAW,eACXC,OAAO,iCAPX,SASI,eAAC,IAAD,yBACIZ,KAAMA,GACFf,GAFR,IAGI5B,KAAK,QAHT,UAKI,cAAC,IAAKO,KAAN,CACIC,MAAM,eACNR,KAAK,QACLS,MAAO,CACP,CACIC,UAAU,EACVnB,QAAS,2DANjB,SAUI,cAAC,IAAD,CAAOuB,MAAOqB,EAAOqB,SAjDpB,SAAC5C,GAClBwB,EAASxB,EAAEC,OAAOC,YAmDN,cAAC,IAAKP,KAAN,CACIC,MAAM,qBACNR,KAAK,MACLS,MAAO,CACP,CACIC,UAAU,EACVnB,QAAS,kEANjB,SAUI,cAAC,IAAD,CAAOuB,MAAOvC,EAAKiF,SA1DpB,SAAC5C,GAChByB,EAAOzB,EAAEC,OAAOC,sB,6CChFX2C,EAAc/B,IAAOC,IAAV,8LCIhB+B,EAASC,IAATD,KA4COE,EA1CE,SAAC,GAAwC,IAAtCC,EAAqC,EAArCA,SAAWC,EAA0B,EAA1BA,SAAWC,EAAe,EAAfA,SActC,OACI,cAACN,EAAD,UACI,eAAC,IAAD,CAAMO,KAAK,QACPd,MAAO,CAAEe,MAAO,KAChBC,MACI,qBACIC,IAAKN,EAASM,IACdC,IAAI,8CAGZC,WAAW,EACXC,QAAS,CACL,cAAC,IAAD,CAAUC,QAzBb,WACT,OACA,eAAC,IAAD,WACI,cAAC,IAAKhE,KAAN,CAAWW,QAAS,kBAAK6C,EAASF,EAASW,UAA3C,SACKX,EAAS3F,OAAS,eAAO,iBAE9B,cAAC,IAAKqC,KAAN,CAAWW,QAAS,kBAAK4C,EAASD,EAASW,UAA3C,8BAmBiCC,UAAU,YAAYC,OAAK,EAApD,SACI,cAACC,EAAA,EAAD,GAAsB,eAXlC,UAeI,cAACjB,EAAD,CACIvB,MAAO0B,EAASe,UAChBpF,YAAaqE,EAASgB,YAEzBhB,EAAS3F,OAAS,cAAC,IAAD,CAAKiF,MAAM,UAAX,gCAAiC,cAAC,IAAD,CAAKA,MAAM,UAAX,sC,SCxBrD2B,EAhBG,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,UAAYjB,EAA0B,EAA1BA,SAAWC,EAAe,EAAfA,SACxC,OACI,8BACA,cAAC,IAAD,CAAOC,KAAM,CAAC,GAAI,IAAKgB,MAAI,EAA3B,SACKD,EAAU9I,KAAI,SAAC4H,GAAD,OACX,cAAC,EAAD,CAAUA,SAAUA,EAEhBC,SAAUA,EACVC,SAAUA,GAFLF,EAASW,iB,QCAnBhD,kBAAK,WAAuB,IAAD,EACJ9B,mBAAS,IADL,mBAC/BqF,EAD+B,KACpBE,EADoB,KAGtCC,qBAAU,WACN1G,IAAWQ,MAAK,SAAAf,GACZgH,EAAahH,EAAIgB,QAAQkG,MACzBhH,QAAQC,IAAIH,EAAIgB,cAErB,IAyCH,OACI,cAACwC,EAAD,UACI,gCACI,0DACA,cAAC,EAAD,CAAaK,MAtCL,SAACK,EAAO5D,ITaN,SAAC4D,EAAO5D,GAC9B,OAAOd,EAAQ,CACXa,OAAQ,OACRC,IAAK,cACLT,KAAM,CACF8G,UAAWzC,EACX5D,IAAKA,EACL6G,WAAY1J,QSlBhB2J,CAAWlD,EAAO5D,GAAKS,MAAK,SAAAf,GAExBO,IAAWQ,MAAK,SAAAf,GACZgH,EAAahH,EAAIgB,QAAQkG,YAIjC3G,IAAWQ,MAAK,SAAAf,GACZgH,EAAahH,EAAIgB,QAAQkG,MACzBhH,QAAQC,IAAIH,EAAIgB,eA4BX8F,EAAUrI,OAAS,EAEZ,cAAC,EAAD,CAAWqI,UAAWA,EAAWjB,SAzB9B,SAAC3C,ITiCF,SAACA,GACvB,OAAO1D,EAAQ,CACXa,OAAQ,OACRC,IAAK,UACLT,KAAM,CACF0G,QAASrD,EACTmE,MAAO,OACPF,WAAY1J,QStChB6J,CAAWpE,GAAInC,MAAK,SAAAf,GAtBpBsB,IAAQN,QAAQ,kCAwBZT,IAAWQ,MAAK,SAAAf,GACZgH,EAAahH,EAAIgB,QAAQkG,aAoB0CpB,SAfzD,SAAC5C,GACnB8D,EACIF,EAAU9I,KAAI,SAAC4H,GAAD,OACVA,EAAS1C,KAAOA,EAAhB,2BAA0B0C,GAA1B,IAAoC3F,QAAS2F,EAAS3F,SAAW2F,SAezD,mCAEI,cAAC,IAAD,CAAO2B,MAAOC,IAAMC,uBAAwBlG,YAAY,2J,oBChE9EoC,GAAS,CACb/B,SAAU,CACRC,KAAM,GAERC,WAAY,CACVD,KAAM,KAoJK+B,GA1IK,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAAY,EACHpC,oBAAS,GADN,mBAC1BqC,EAD0B,KACjBC,EADiB,OAEWtC,oBAAS,GAFpB,mBAE1BuC,EAF0B,KAEVC,EAFU,OAGPxC,mBAAS,IAHF,mBAG1ByC,EAH0B,KAGnBC,EAHmB,OAIX1C,mBAAS,IAJE,mBAI1BiG,EAJ0B,KAIrBC,EAJqB,KAM3BpJ,EAAQ,CACZwD,KAAM,OACN6F,QAAS,CACPC,cAAe,sBAEjBC,OAAQ,gDACRjI,KAAM,SAAAkI,GAAI,MAAK,CACbpI,OAAQlC,IACRmC,MAAOtC,IACPyK,KAAMA,IAERxC,SAXY,SAWHyC,GACkB,cAArBA,EAAKD,KAAK9H,SACZ0H,EAAOK,EAAKD,KAAKhI,SAASO,KAC1BJ,QAAQC,IAAI6H,EAAKD,KAAKhI,SAASO,IAAK0H,EAAKC,WAElB,SAArBD,EAAKD,KAAK9H,OACZqB,IAAQN,QAAR,UAAmBgH,EAAKD,KAAKhG,KAA7B,8BAC8B,UAArBiG,EAAKD,KAAK9H,QACnBqB,IAAQ4G,MAAR,UAAiBF,EAAKD,KAAKhG,KAA3B,gCAzB2B,EAoFpByC,IAAKC,UAAbC,EApF4B,oBAsFnC,OACE,gCACE,cAAC,IAAD,CAAQC,UAAU,aAAaxD,KAAK,UAAU8B,QAxChC,WAEhBkB,EAAS,IACTwD,EAAO,IACP5D,GAAW,IAoCT,sCAGA,cAAC,IAAD,CACEG,MAAM,2BACNJ,QAASA,EACTc,KAtCW,WAEXV,EAAMzF,OAAS,GACjBwF,GAAkB,GAClBY,YAAW,WACThB,EAAMK,EAAOwD,GACbvD,EAAS,IACTwD,EAAO,IACP5D,GAAW,GACXE,GAAkB,GAlCtB3C,IAAQN,QAAQ,4BAQhBK,IAAayD,KAAK,CAChBxD,QAAS,iCACTC,YACE,iFACFwD,KAAM,cAACC,EAAA,EAAD,CAAeC,MAAO,CAAEC,MAAO,iBAyBlC,MAjCL5D,IAAQ6D,QAAQ,+CA4DZnB,eAAgBA,EAChBoB,SApBe,WACnBrB,GAAW,IAoBPsB,WAAW,eACXC,OAAO,eAPT,SASE,eAAC,IAAD,yBACEZ,KAAMA,GACFf,IAFN,IAGE5B,KAAK,QACLC,cAAe,CAAEkC,MAAO,IAJ1B,UAME,cAAC,IAAK5B,KAAN,CACEC,MAAM,2BACNR,KAAK,QACLS,MAAO,CACL,CACEC,UAAU,EACVnB,QAAS,+CANf,SAUE,cAAC,IAAD,CAAOuB,MAAOqB,EAAOqB,SApCT,SAAC5C,GACrBwB,EAASxB,EAAEC,OAAOC,YAsCZ,cAAC,IAAKP,KAAN,CACEC,MAAM,2BACNC,MAAO,CACL,CACEC,UAAU,IAJhB,SAQE,cAAC,KAAD,2BAAYlE,GAAZ,IAAmB4J,SAAU,EAA7B,SACE,cAAC,IAAD,CAAQpD,KAAM,cAACqD,GAAA,EAAD,IAAd,qDCnJC5C,GAAc/B,IAAOC,IAAV,8LCIhB+B,GAASC,IAATD,KA4COE,GA1CE,SAAC,GAAwC,IAAtCC,EAAqC,EAArCA,SAAWC,EAA0B,EAA1BA,SAAWC,EAAe,EAAfA,SActC,OACI,cAAC,GAAD,UACI,eAAC,IAAD,CAAMC,KAAK,QACPd,MAAO,CAAEe,MAAO,KAChBC,MACI,qBACIC,IAAKN,EAASM,IACdC,IAAKP,EAASyC,SAAS,8CAG/BjC,WAAW,EACXC,QAAS,CACL,cAAC,IAAD,CAAUC,QAzBb,WACT,OACA,eAAC,IAAD,WACI,cAAC,IAAKhE,KAAN,CAAWW,QAAS,kBAAK6C,EAASF,EAASW,UAA3C,SACKX,EAAS3F,OAAS,2BAAS,6BAEhC,cAAC,IAAKqC,KAAN,CAAWW,QAAS,kBAAK4C,EAASD,EAASW,UAA3C,8BAmBiCC,UAAU,YAAYC,OAAK,EAApD,SACI,cAACC,EAAA,EAAD,GAAsB,eAXlC,UAeI,cAAC,GAAD,CACIxC,MAAO0B,EAASe,UAChBpF,YAAaqE,EAASgB,YAEzBhB,EAAS3F,OAAS,cAAC,IAAD,CAAKiF,MAAM,UAAX,0BAAgC,cAAC,IAAD,CAAKA,MAAM,UAAX,gCCxBpD2B,GAhBG,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,UAAYjB,EAA0B,EAA1BA,SAAWC,EAAe,EAAfA,SACxC,OACI,8BACA,cAAC,IAAD,CAAOC,KAAM,CAAC,GAAI,IAAKgB,MAAI,EAA3B,SACKD,EAAU9I,KAAI,SAAC4H,GAAD,OACX,cAAC,GAAD,CAAUA,SAAUA,EAEhBC,SAAUA,EACVC,SAAUA,GAFLF,EAASW,iBCPrB/C,GAAcC,IAAOC,IAAV,6HCOTH,mBAAK,WAAwB,IAAD,EACL9B,mBAAS,IADJ,mBAChCqF,EADgC,KACrBE,EADqB,KAGvCC,qBAAU,WACN7G,IAAYW,MAAK,SAAAf,GACbgH,EAAahH,EAAIgB,QAAQkG,MACzBhH,QAAQC,IAAIH,EAAIgB,cAGpB,IAmCJ,OACI,cAAC,GAAD,UACI,gCACI,0DACA,cAAC,GAAD,CAAa6C,MA/BL,SAACK,EAAOwD,IfuBL,SAACxD,EAAO5D,GAC/B,OAAOd,EAAQ,CACXa,OAAQ,OACRC,IAAK,eACLT,KAAM,CACF8G,UAAWzC,EACX5D,IAAKA,EACL6G,WAAY1J,Qe7BhB6K,CAAYpE,EAAOwD,GAAK3G,MAAK,SAAAf,GAEzBI,IAAYW,MAAK,SAAAf,GACbgH,EAAahH,EAAIgB,QAAQkG,eA4BxBJ,EAAUrI,OAAS,EAEZ,cAAC,GAAD,CAAWqI,UAAWA,EAAWjB,SAxB9B,SAAC3C,IfyBD,SAACA,GACxB,OAAO1D,EAAQ,CACXa,OAAQ,OACRC,IAAK,UACLT,KAAM,CACF0G,QAASrD,EACTmE,MAAO,QACPF,WAAY1J,Qe/BhB8K,CAAYrF,GAAInC,MAAK,SAAAf,GAfrBsB,IAAQN,QAAQ,kCAiBZZ,IAAYW,MAAK,SAAAf,GACbgH,EAAahH,EAAIgB,QAAQkG,aAoB0CpB,SAfzD,SAAC5C,GACnB8D,EACIF,EAAU9I,KAAI,SAAC4H,GAAD,OACVA,EAAS1C,KAAOA,EAAhB,2BAA0B0C,GAA1B,IAAoC3F,QAAS2F,EAAS3F,SAAW2F,SAezD,mCACI,cAAC,IAAD,CAAO2B,MAAOC,IAAMC,uBAAwBlG,YAAY,qJC9DvEiC,GAAcC,IAAOC,IAAV,6HCAX8B,GAAc/B,IAAOC,IAAV,8LCIhB+B,GAASC,IAATD,KA6COE,GA3CE,SAAC,GAAgD,IAA9CC,EAA6C,EAA7CA,SAAUC,EAAmC,EAAnCA,SAAUC,EAAyB,EAAzBA,SAAU0C,EAAe,EAAfA,SAc9C,OACI,cAAC,GAAD,UACI,cAAC,IAAD,CAAMzC,KAAK,QACP9C,QAAS,WAAQuF,EAAS5C,EAASW,UACnCtB,MAAO,CAAEe,MAAO,KAChBC,MACI,qBACIC,IAAI,UACJC,IAAI,8CAGZC,WAAW,EACXC,QAAS,CACL,cAAC,IAAD,CAAUC,QA1Bb,WACT,OACI,eAAC,IAAD,WACI,cAAC,IAAKhE,KAAN,CAAWW,QAAS,kBAAM6C,EAASF,EAASW,UAA5C,SACKX,EAAS3F,OAAS,eAAO,iBAE9B,cAAC,IAAKqC,KAAN,CAAWW,QAAS,kBAAM4C,EAASD,EAASW,UAA5C,8BAoB6BC,UAAU,YAAYC,OAAK,EAApD,SACI,cAACC,EAAA,EAAD,GAAsB,eAZlC,SAgBI,cAAC,GAAD,CACIxC,MAAO0B,EAASe,UAChBpF,YAAaqE,EAASgB,iBCtB3BC,GAjBG,SAAC,GAAiD,IAA/CC,EAA8C,EAA9CA,UAAWjB,EAAmC,EAAnCA,SAAUC,EAAyB,EAAzBA,SAAU0C,EAAe,EAAfA,SAChD,OACI,8BACI,cAAC,IAAD,CAAOzC,KAAM,CAAC,GAAI,IAAKgB,MAAI,EAA3B,SACKD,EAAU9I,KAAI,SAAC4H,GAAD,OACX,cAAC,GAAD,CAAUA,SAAUA,EAEhBC,SAAUA,EACVC,SAAUA,EACV0C,SAAUA,GAHL5C,EAASW,iBCqDvB/E,I,GAAAA,gBArDf,SAAuBjD,GAAQ,IAAD,EACQkD,mBAAS,IADjB,mBACnBqF,EADmB,KACRE,EADQ,KAmC1B,OAhCAC,qBAAU,WACN7G,IAAYW,MAAK,SAAAf,GACbgH,EAAahH,EAAIgB,QAAQkG,MACzBhH,QAAQC,IAAIH,EAAIgB,cAGpB,IA2BA,cAAC,GAAD,UACI,8BACK8F,EAAUrI,OAAS,EAEZ,qCACI,gEACA,cAAC,GAAD,CAAWqI,UAAWA,EAAWjB,SA7BlC,SAAC3C,GACpB8D,EAAaF,EAAU2B,QAAO,SAAC7C,GAAD,OAAcA,EAAS1C,KAAOA,OA4BmB4C,SAzB7D,SAAC5C,GACnB8D,EACIF,EAAU9I,KAAI,SAAC4H,GAAD,OACVA,EAAS1C,KAAOA,EAAhB,2BAA0B0C,GAA1B,IAAoC3F,QAAS2F,EAAS3F,SAAW2F,OAsB+B4C,SAjB3F,SAACtF,GACdhD,QAAQC,IAAI+C,GACZ3E,EAAM6E,QAAQC,KAAK,CACfxE,SAAU,UACV6J,MAAO,CACHnC,QAASrD,WAgBD,cAAC,IAAD,CAAOqE,MAAOC,IAAMC,uBAAwBlG,YAAY,uD,oBCrDnEoH,GAAgBlF,IAAOC,IAAV,2MCK1B,I,GAkCe9F,GAlCA,CACX,CACIO,KAAM,IACNC,OAAO,EACPO,UAAWiK,EACXlK,cAAc,GAElB,CACIP,KAAM,SACNQ,UAAWkK,EACXnK,cAAc,GAElB,CACIP,KAAM,QACNQ,UAAWiK,EACXlK,cAAc,GAElB,CACIP,KAAM,SACNQ,UAAWmK,GACXpK,cAAc,GAElB,CACIP,KAAM,WACNQ,UAAWoK,GACXrK,cAAc,GAElB,CACIP,KAAM,UACNQ,UC7BO,SAAuBJ,GAClC,IAAMgI,EAAUhI,EAAMS,SAAS0J,MAAMnC,QADI,EAEjB9E,mBAAS,IAFQ,mBAElCyF,EAFkC,KAE5B8B,EAF4B,KAazC,OATA/B,qBAAU,WvB0EY,IAAC/D,KuBzERqD,EvB0ER/G,EAAQ,CACXa,OAAQ,OACRC,IAAK,cACLT,KAAM,CACF0G,QAASrD,MuB9EOnC,MAAK,SAAAf,GACrBgJ,EAAQhJ,EAAIH,MACZK,QAAQC,IAAIH,EAAIH,WAGpB,CAAC0G,IAID,cAACoC,GAAD,CAAehE,UAAU,UAAzB,SACI,cAAC,KAAD,CACIA,UAAU,eACVsE,OAAM,UAAK/B,EAAKzI,OAAV,uBACNyK,WAAW,aACXC,WAAYjC,EACZkC,WAAY,SAAAC,GAAI,OACZ,6BACI,cAAC,KAAD,CACIhD,QAAS,CAAC,cAAC,IAAD,CAAQ1B,UAAU,OAAOxD,KAAK,OAA9B,0BAAkD,cAAC,IAAD,CAAQwD,UAAU,SAASxD,KAAK,OAAhC,2BAC5DmI,QAASD,EAAKE,QACdC,SAAUH,EAAKzC,oBDKnClI,cAAc,I,mBEnCT+K,GAAehG,IAAOC,IAAV,8vBCMjBgG,GAA4BC,KAA5BD,OAAQE,GAAoBD,KAApBC,QAASC,GAAWF,KAAXE,OAqCVrI,oBA/Bf,SAAejD,GASX,OACI,cAACkL,GAAD,UACI,eAAC,KAAD,WACI,eAACC,GAAD,CAAQzE,MAAO,CAAE6E,SAAU,QAASC,OAAQ,EAAG/D,MAAO,QAAtD,UACI,qBAAKrB,UAAU,OAAf,kDACA,eAAC,IAAD,CAAMqF,MAAM,OAAOC,KAAK,aAAaC,oBAAqB,CAAC,KAA3D,UACI,cAAC,IAAK5H,KAAN,CAAmBW,QAAS,SAAAkH,GAAOzM,IAAYa,EAAM6E,QAAQC,KAAK,SAAW9E,EAAM6E,QAAQC,KAAK,WAAhG,2CAAe,KACf,cAAC,IAAKf,KAAN,CAAmBW,QAAS,SAAAkH,GAAOzM,IAAYa,EAAM6E,QAAQC,KAAK,UAAY9E,EAAM6E,QAAQC,KAAK,WAAjG,2CAAe,KACf,cAAC,IAAKf,KAAN,CAAmBW,QAAS,SAAAkH,GAAOzM,IAAYa,EAAM6E,QAAQC,KAAK,YAAc9E,EAAM6E,QAAQC,KAAK,WAAnG,qCAAe,QAEnB,cAAC,IAAD,CAAQsB,UAAU,QAAQxD,KAAK,OAAO8B,QAlBpC,WACVvF,MALR4D,IAAQ6D,QAAQ,sB7BMhB5H,aAAa6M,WAAW,U6BGpB7L,EAAM6E,QAAQC,KAAK,WAaP,SAA4D3F,IAAY,eAAO,oBAEnF,cAACkM,GAAD,CAASjF,UAAU,cAAcM,MAAO,CAAEoF,QAAS,YAAaC,UAAW,IAA3E,SACI,qBAAK3F,UAAU,yBAAf,SACKpG,EAAMgM,aAGf,cAACV,GAAD,CAAQ5E,MAAO,CAAEuF,UAAW,UAA5B,sEC7BDjH,mBAAK,WAClB,OACE,8BACE,cAAC,KAAD,UACE,cAAC,GAAD,UACG5F,EAAaC,GAPP,mBCHjB6M,IAASnM,OACP,cAAC,GAAD,IACAoM,SAASC,eAAe,W","file":"static/js/main.5d977d17.chunk.js","sourcesContent":["export function getToken() {\n    return localStorage.getItem('token');\n}\n\nexport function getID() {\n    return localStorage.getItem('userId');\n}\n\nexport function setToken(token) {\n    localStorage.setItem('token', token);\n}\n\nexport function setID(id) {\n    localStorage.setItem('userId', id);\n}\n\nexport function removeToken(token) {\n    localStorage.removeItem('token');\n}\n\nexport function isLogin() {\n    if (localStorage.getItem('token')) {\n        return true;\n    }\n    return false;\n}","import React from 'react'\nimport { Route, Redirect, Switch } from 'react-router-dom'\nimport { getToken } from \"../store/auth\"\n\nconst renderRoutes = (routes, authPath = '/login', extraProps = {}, switchProps = {}) => routes ? (\n  <Switch {...switchProps}>\n    {routes.map((route, i) => (\n      <Route\n        key={route.key || i}\n        path={route.path}\n        exact={route.exact}\n        strict={route.strict}\n        render={(props) => {\n          const authed = getToken() && getToken().length > 0\n          if (!route.requiresAuth || authed || route.path === authPath) {\n            return <route.component {...props} {...extraProps} route={route} />\n          }\n          return <Redirect to={{ pathname: authPath, state: { from: props.location } }} />\n        }}\n      />\n    ))}\n  </Switch>\n) : null\n\nexport {\n  renderRoutes\n}","import axios from 'axios';\nimport { BASE_URL, TIMEOUT } from \"./config\";\nimport { getToken, getID } from \"@/store/auth\";\n\nconst instance = axios.create({\n  baseURL: BASE_URL,\n  timeout: TIMEOUT\n});\n\n// require('../mock/api')\n\ninstance.interceptors.request.use(config => {\n  const userId = getID()\n  const token = getToken()\n\n  if (userId && token) {\n    if (!config.data) config.data = {}\n    config.data.userId = userId\n    config.data.token = token\n  }\n  return config;\n}, err => {\n\n});\n\ninstance.interceptors.response.use(res => {\n  return res.data;\n}, err => {\n  if (err && err.response) {\n    switch (err.response.status) {\n      case 400:\n        console.log(\"请求错误\");\n        break;\n      case 401:\n        console.log(\"未授权访问\");\n        break;\n      default:\n        console.log(\"其他错误信息\");\n    }\n  }\n  return err;\n});\n\nexport default instance;\n\n","const devBaseURL = \"https://qcmt57.fn.thelarkcloud.com\";\nconst proBaseURL = \"https://qcmt57.fn.thelarkcloud.com\";\nexport const BASE_URL = process.env.NODE_ENV === 'development' ? devBaseURL: proBaseURL;\n\nexport const TIMEOUT = 5000;","import request from \"./request\"\nimport { getID } from \"@/store/auth\";\n\n// mock\n// export const getLiveList = () => {\n//     return request({\n//         url: \"/getLiveList\"\n//     })\n// }\n\n// login\nexport const login = (userName, password) => {\n    return request({\n        url: \"/managerLogin\",\n        method: \"post\",\n        data: {\n            userName: userName,\n            password: password\n        }\n    })\n}\n\n// getVideos\nexport const getVideos = () => {\n    return request({\n        method: \"post\",\n        url: \"/searchVideo\"\n    })\n}\n\nexport const getLives = () => {\n    return request({\n        method: \"post\",\n        url: \"/searchLive\"\n    })\n}\n\nexport const createLive = (title, url) => {\n    return request({\n        method: \"post\",\n        url: \"/createLive\",\n        data: {\n            videoName: title,\n            url: url,\n            controller: getID()\n        }\n    })\n}\n\nexport const createVideo = (title, url) => {\n    return request({\n        method: \"post\",\n        url: \"/createVideo\",\n        data: {\n            videoName: title,\n            url: url,\n            controller: getID()\n        }\n    })\n}\n\nexport const deleteVideo = (id) => {\n    return request({\n        method: \"post\",\n        url: \"/delete\",\n        data: {\n            videoId: id,\n            judge: \"video\",\n            controller: getID()\n        }\n    })\n}\n\nexport const deleteLive = (id) => {\n    return request({\n        method: \"post\",\n        url: \"/delete\",\n        data: {\n            videoId: id,\n            judge: \"live\",\n            controller: getID()\n        }\n    })\n}\n\nexport const getComment = (id) => {\n    return request({\n        method: \"post\",\n        url: \"/getComment\",\n        data: {\n            videoId: id\n        }\n    })\n}\n\nexport const uploadFile = (file) => {\n    return request({\n        method: \"post\",\n        url: \"/fileUpload\",\n        data: {\n            file: file\n        }\n    })\n}","\nimport { login } from \"@/services/manage\";\n\nimport { notification } from 'antd';\n\nconst openNotificationWithIcon = type => {\n    notification[type]({\n        message: '登录失败',\n        description:\n            '请检查您的用户名和密码输入是否正确',\n    });\n};\n\nexport default class Passport {\n    constructor() {\n        // 用户登录标识\n        this.isLogin = false;\n    }\n\n    login(username, password, callback) {\n        // if (username === 'yejiahao' && password === '123') {\n        //     // 登录成功\n        //     this.isLogin = true;\n        //     // 将登录成功之后的操作给调用者处理\n        //     callback();\n        // } else {\n        //     // 登录失败\n        //     // 这里简单弹出一个消息\n        //     alert('登录失败！');\n        // }\n        login(username, password).then(res => {\n            console.log(res);\n            if (!res.success) { throw (new Error('login failed')) }\n            this.isLogin = true;\n            callback(res);\n        }).catch(err => {\n            alert('登录失败')\n            openNotificationWithIcon('error')\n        })\n    }\n}\n","import { Form, Input, Button, message } from 'antd';\nimport { useState } from 'react'\nimport { withRouter } from 'react-router-dom';\nimport { setToken, setID } from \"@/store/auth\";\nimport Passport from './Passport'\n\nconst UserLogin = (props) => {\n\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n\n  const layout = {\n      labelCol: { span: 8 },\n      wrapperCol: { span: 8 },\n    };\n  const tailLayout = {\n      wrapperCol: { offset: 8, span: 16 },\n  };\n    \n  const onFinish = (values) => {\n      console.log('Success:', values);\n  };\n  \n  const onFinishFailed = (errorInfo) => {\n      console.log('Failed:', errorInfo);\n  };\n\n  function validateForm() {\n    return username.length > 0 && password.length > 0;\n  }\n  \n  const success = () => {\n    message.success('登录成功！');\n  };\n\n  return (\n      <Form\n          {...layout}\n          name=\"basic\"\n          initialValues={{ remember: true }}\n          onFinish={onFinish}\n          onFinishFailed={onFinishFailed}\n      >\n      <Form.Item\n        label=\"用户名\"\n        name=\"username\"\n        rules={[{ required: true, message: '请输入用户名' }]}\n      >\n        <Input onInput={(e)=>{setUsername(e.target.value)}}/>\n      </Form.Item>\n\n      <Form.Item\n        label=\"密码\"\n        name=\"password\"\n        rules={[{ required: true, message: '请输入密码' }]}\n      >\n        <Input.Password onInput={(e)=>{setPassword(e.target.value)}}/>\n      </Form.Item>\n\n      {/* <Form.Item {...tailLayout} name=\"remember\" valuePropName=\"checked\">\n        <Checkbox>Remember me</Checkbox>\n      </Form.Item> */}\n\n      <Form.Item {...tailLayout}>\n        <Button type=\"primary\" disabled={!validateForm()} onClick={() => {    \n          // 登录操作\n          const p = new Passport();\n          p.login(username, password, (res) => {\n              // 登录成功时，跳转页面\n              setToken(res.token);\n              setID(res.userId);\n              success();\n              props.history.push('/live');\n          })\n        }}>\n          登录\n        </Button>\n      <Form.Item>\n         您是新用户？ <a href=\"/register\">注册</a>\n      </Form.Item>\n      </Form.Item>\n    </Form>\n    )\n}\n\nexport default withRouter(UserLogin)\n","import React, { memo } from 'react'\nimport UserLogin from './components/UserLogin'\n\nexport default memo(function Login() {\n    return (\n        <div>\n            <h2>登录</h2>\n            <UserLogin />\n        </div>\n    )\n})\n","import styled from 'styled-components'\n\nexport const LiveWrapper = styled.div`\n  .new-button {\n    margin: 20px 0;\n    background: #5276F0;\n    border-color: #5276F0;\n  }\n`","import { useState } from 'react'\nimport { Button, Modal, notification} from 'antd';\nimport { Form, Input } from 'antd';\nimport { message } from 'antd';\nimport { SmileOutlined } from '@ant-design/icons';\n\nconst layout = {\n  labelCol: {\n    span: 6,\n  },\n  wrapperCol: {\n    span: 15,\n  },\n};\n// const tailLayout = {\n//   wrapperCol: {\n//     offset: 6,\n//     span: 15,\n//   },\n// };\n\nconst AddLiveRoom = ( {onAdd} ) => {\n    const [visible, setVisible] = useState(false);\n    const [confirmLoading, setConfirmLoading] = useState(false);\n    const [title, setTitle] = useState('')\n    const [url, setUrl] = useState('')\n\n    const success = () => {\n      message.success('配置成功');\n    };\n\n    const warning = () => {\n      message.warning(\"请正确填写信息：检查直播源和标题填写\");\n    };\n\n    const openNotification = () => {\n      notification.open({\n        message: '小提示',\n        description:\n          '可以点击直播间卡片来暂停/继续直播哦！',\n        icon: <SmileOutlined style={{ color: '#108ee9' }} />,\n      });\n    };\n\n    // show pop-up UI form to set up the new Live Room\n    const showModal = () => {\n      // not working...\n      setTitle('')\n      setUrl('')\n      setVisible(true)\n    };\n  \n    // submit in the pop-up window\n    const handleOK = () => {\n      console.log(validURL(url))\n      if (title.length > 0 && validURL(url)){\n        setConfirmLoading(true);\n        setTimeout(() => {\n            onAdd( title , url )\n            setTitle('')\n            setUrl('')\n            setVisible(false);\n            setConfirmLoading(false);\n            success()\n            openNotification()\n        }, 500);\n      }\n      else{\n        warning()\n      }\n    };\n  \n    // candle the pop-up window\n    const handleCancel = () => {\n      setVisible(false)\n    };\n\n    const onChangeTitle =(e) => {\n        setTitle(e.target.value)\n    }\n\n    const onChangeUrl =(e) => {\n        setUrl(e.target.value)\n    }\n\n    const validURL = (url) => {\n        var pattern = new RegExp('^(https?:\\\\/\\\\/)?'+ // protocol\n        '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|'+ // domain name\n        '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+ // OR ip (v4) address\n        '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+ // port and path\n        '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ // query string\n        '(\\\\#[-a-z\\\\d_]*)?$','i'); // fragment locator\n        return !!pattern.test(url);\n    }\n\n    const [form] = Form.useForm();\n    \n    return (\n        <div>\n        <Button className='new-button' type=\"primary\" onClick={showModal}>\n                新建直播\n            </Button>\n            <Modal\n                title=\"新建直播\"\n                visible={visible}\n                onOk={handleOK}\n                confirmLoading={confirmLoading}\n                onCancel={handleCancel}\n                cancelText=\"取消\"\n                okText=\"保存并配置\"\n            >\n                <Form\n                    form={form}\n                    {...layout}\n                    name=\"basic\"\n                    >\n                    <Form.Item\n                        label=\"标题\"\n                        name=\"title\"\n                        rules={[\n                        {\n                            required: true,\n                            message: '请输入直播间的名称',\n                        },\n                        ]}\n                    >\n                        <Input value={title} onChange={onChangeTitle}/>\n                    </Form.Item>\n\n                    <Form.Item\n                        label=\"直播源\"\n                        name=\"url\"\n                        rules={[\n                        {\n                            required: true,\n                            message: '请输入有效的m3u8直播源URL',\n                        },\n                        ]}\n                    >\n                        <Input value={url} onChange={onChangeUrl} />\n                    </Form.Item>\n                </Form>\n            </Modal>\n        </div>\n    )\n}\n\nexport default AddLiveRoom\n","import styled from 'styled-components'\n\nexport const CardWrapper = styled.div`\n  .ant-card-actions {\n    position: absolute;\n    right: 0;\n    bottom: 0;\n  }\n\n  .ant-tag {\n    position:absolute;\n    top: 10px;\n    left: 10px;\n  }\n`\n","import { Card, Menu, Dropdown, Tag } from 'antd';\nimport { EllipsisOutlined } from '@ant-design/icons';\n\nimport React from 'react'\nimport { CardWrapper } from './style';\n\nconst { Meta } = Card;\n\nconst LiveCard = ({ liveCard , onDelete , onStatus }) => {\n    const menu = () => {\n        return (\n        <Menu>\n            <Menu.Item onClick={()=> onStatus(liveCard.videoId)}>\n                {liveCard.status ? \"下播\" : \"上线\"}\n            </Menu.Item>\n            <Menu.Item onClick={()=> onDelete(liveCard.videoId)}>\n                删除\n            </Menu.Item>\n        </Menu>\n        )\n    }\n\n    return (\n        <CardWrapper>\n            <Card size=\"small\"\n                style={{ width: 300 }}\n                cover={\n                    <img\n                        alt={liveCard.alt}\n                        src=\"https://s3.ax1x.com/2021/02/23/ybuuad.jpg\"\n                    />\n                }\n                hoverable={true}\n                actions={[\n                    <Dropdown overlay={menu} placement=\"topCenter\" arrow>\n                        <EllipsisOutlined key=\"ellipsis\" />\n                    </Dropdown>\n                ]}\n            >\n                <Meta\n                    title={liveCard.videoName}\n                    description={liveCard.updatedAt}\n                />\n                {liveCard.status ? <Tag color=\"#82C2C4\">直播中</Tag> : <Tag color=\"#E9967A\">已暂停</Tag>}\n                \n            </Card>\n        </CardWrapper>\n    )\n}\n\nexport default LiveCard","import LiveCard from './LiveCard'\nimport { Space } from 'antd';\n\nconst LiveCards = ({ liveCards , onDelete , onStatus }) => {\n    return (\n        <div>\n        <Space size={[60, 30]} wrap>\n            {liveCards.map((liveCard) => (\n                <LiveCard liveCard={liveCard} \n                    key={liveCard.videoId}\n                    onDelete={onDelete}\n                    onStatus={onStatus}\n                />\n            ))}\n         </Space>\n         </div>\n    )\n}\n\nexport default LiveCards\n","import React, { memo } from 'react'\nimport { useState, useEffect } from 'react'\n\nimport { getLives, createLive, deleteLive } from \"@/services/manage\";\nimport { LiveWrapper } from './style';\nimport AddLiveRoom from './child-cpn/live-card/AddLiveRoom'\nimport LiveCards from './child-cpn/live-card/LiveCards'\nimport { Empty , message } from 'antd';\n\nexport default memo(function LiveManage() {\n    const [liveCards, setLiveCards] = useState([])\n\n    useEffect(() => {\n        getLives().then(res => {\n            setLiveCards(res.success.list);\n            console.log(res.success);\n        })\n    }, [])\n\n    const success = () => {\n        message.success('删除成功！');\n      };\n\n    // add live card\n    const addLiveCard = (title, url) => {\n\n        createLive(title, url).then(res => {\n            // console.log(res);\n            getLives().then(res => {\n                setLiveCards(res.success.list);\n            })\n        });\n        \n        getLives().then(res => {\n            setLiveCards(res.success.list);\n            console.log(res.success);\n        })\n    }\n\n    // handle delete card\n    const deleteLiveCard = (id) => {\n        // setLiveCards(liveCards.filter((liveCard) => liveCard.id !== id))\n        deleteLive(id).then(res=>{\n            success()\n            getLives().then(res => {\n                setLiveCards(res.success.list);\n            })\n        })\n    }\n\n    const reverseStatus = (id) => {\n        setLiveCards(\n            liveCards.map((liveCard) =>\n                liveCard.id === id ? { ...liveCard, status: !liveCard.status } : liveCard\n            )\n        )\n    }\n\n    return (\n        <LiveWrapper>\n            <div>\n                <h2>直播列表</h2>\n                <AddLiveRoom onAdd={addLiveCard} />\n                {liveCards.length > 0 ?\n                    (\n                        <LiveCards liveCards={liveCards} onDelete={deleteLiveCard} onStatus={reverseStatus} />\n                    )\n                    : (\n                        <>\n                            {/* <h3>目前没有配置好的直播间，点击 新建直播 来配置您的第一个直播间吧!</h3> */}\n                            <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"空空如也～ 点击新建直播来配置您的第一个直播间吧!\" />\n                        </>\n                    )\n                }\n            </div>\n        </LiveWrapper>\n    )\n})\n","import { Modal, notification, Form, Input, Upload, message, Button } from 'antd';\nimport { SmileOutlined, UploadOutlined } from '@ant-design/icons';\n\nimport { useState } from 'react'\nimport { getToken, getID } from \"@/store/auth\";\n\nconst layout = {\n  labelCol: {\n    span: 6,\n  },\n  wrapperCol: {\n    span: 15,\n  },\n};\n// const tailLayout = {\n//   wrapperCol: {\n//     offset: 6,\n//     span: 15,\n//   },\n// };\n\nconst AddLiveRoom = ({ onAdd }) => {\n  const [visible, setVisible] = useState(false);\n  const [confirmLoading, setConfirmLoading] = useState(false);\n  const [title, setTitle] = useState('')\n  const [des, setDes] = useState('')\n\n  const props = {\n    name: 'file',\n    headers: {\n      authorization: 'authorization-text',\n    },\n    action: \"https://qcmt57.fn.thelarkcloud.com/fileUpload\",\n    data: file => ({\n      userId: getID(),\n      token: getToken(),\n      file: file\n    }),\n    onChange(info) {\n      if (info.file.status !== 'uploading') {\n        setDes(info.file.response.url);\n        console.log(info.file.response.url, info.fileList);\n      }\n      if (info.file.status === 'done') {\n        message.success(`${info.file.name} 上传成功`);\n      } else if (info.file.status === 'error') {\n        message.error(`${info.file.name} 上传失败`);\n      }\n    }\n};\n\nconst success = () => {\n  message.success(\"投放成功\");\n};\n\nconst warning = () => {\n  message.warning(\"请完整填写信息\");\n};\n\nconst openNotification = () => {\n  notification.open({\n    message: '视频已投放',\n    description:\n      '现在大家可以看到您的作品啦',\n    icon: <SmileOutlined style={{ color: '#108ee9' }} />,\n  });\n};\n\n// show pop-up UI form to set up the new Live Room\nconst showModal = () => {\n  // not working...\n  setTitle('')\n  setDes('')\n  setVisible(true)\n};\n\n// submit in the pop-up window\nconst handleOK = () => {\n  // console.log(title)\n  if (title.length > 0) {\n    setConfirmLoading(true);\n    setTimeout(() => {\n      onAdd(title, des)\n      setTitle('')\n      setDes('')\n      setVisible(false);\n      setConfirmLoading(false);\n      success()\n      openNotification()\n    }, 500);\n  }\n  else {\n    warning()\n  }\n};\n\n// candle the pop-up window\nconst handleCancel = () => {\n  setVisible(false)\n};\n\nconst onChangeTitle = (e) => {\n  setTitle(e.target.value)\n}\n\nconst [form] = Form.useForm();\n\nreturn (\n  <div>\n    <Button className='new-button' type=\"primary\" onClick={showModal}>\n      上传视频\n            </Button>\n    <Modal\n      title=\"上传视频\"\n      visible={visible}\n      onOk={handleOK}\n      confirmLoading={confirmLoading}\n      onCancel={handleCancel}\n      cancelText=\"取消\"\n      okText=\"投放\"\n    >\n      <Form\n        form={form}\n        {...layout}\n        name=\"basic\"\n        initialValues={{ title: '' }}\n      >\n        <Form.Item\n          label=\"作品标题\"\n          name=\"title\"\n          rules={[\n            {\n              required: true,\n              message: '请输入视频标题',\n            },\n          ]}\n        >\n          <Input value={title} onChange={onChangeTitle} />\n        </Form.Item>\n\n        <Form.Item\n          label=\"您的作品\"\n          rules={[\n            {\n              required: true\n            }\n          ]}\n        >\n          <Upload {...props} maxCount={1}>\n            <Button icon={<UploadOutlined />}>上传视频</Button>\n          </Upload>\n        </Form.Item>\n\n      </Form>\n    </Modal>\n  </div>\n)\n}\n\nexport default AddLiveRoom\n","import styled from 'styled-components'\n\nexport const CardWrapper = styled.div`\n  .ant-card-actions {\n    position: absolute;\n    right: 0;\n    bottom: 0;\n  }\n\n  .ant-tag {\n    position:absolute;\n    top: 10px;\n    left: 10px;\n  }\n`\n","import { Card, Menu, Dropdown, Tag } from 'antd';\nimport { EllipsisOutlined } from '@ant-design/icons';\n\nimport React from 'react'\nimport { CardWrapper } from './style';\n\nconst { Meta } = Card;\n\nconst LiveCard = ({ liveCard , onDelete , onStatus }) => {\n    const menu = () => {\n        return (\n        <Menu>\n            <Menu.Item onClick={()=> onStatus(liveCard.videoId)}>\n                {liveCard.status ? \"设为私密\" : \"设为公开\"}\n            </Menu.Item>\n            <Menu.Item onClick={()=> onDelete(liveCard.videoId)}>\n                删除\n            </Menu.Item>\n        </Menu>\n        )\n    }\n\n    return (\n        <CardWrapper>\n            <Card size=\"small\"\n                style={{ width: 300 }}\n                cover={\n                    <img\n                        alt={liveCard.alt}\n                        src={liveCard.img_url||\"https://s3.ax1x.com/2021/02/23/ybuuad.jpg\"}\n                    />\n                }\n                hoverable={true}\n                actions={[\n                    <Dropdown overlay={menu} placement=\"topCenter\" arrow>\n                        <EllipsisOutlined key=\"ellipsis\" />\n                    </Dropdown>\n                ]}\n            >\n                <Meta\n                    title={liveCard.videoName}\n                    description={liveCard.updatedAt}\n                />\n                {liveCard.status ? <Tag color=\"#82C2C4\">公开</Tag> : <Tag color=\"#E9967A\">私密</Tag>}\n                \n            </Card>\n        </CardWrapper>\n    )\n}\n\nexport default LiveCard","import LiveCard from './LiveCard'\nimport { Space } from 'antd';\n\nconst LiveCards = ({ liveCards , onDelete , onStatus }) => {\n    return (\n        <div>\n        <Space size={[60, 30]} wrap>\n            {liveCards.map((liveCard) => (\n                <LiveCard liveCard={liveCard} \n                    key={liveCard.videoId}\n                    onDelete={onDelete}\n                    onStatus={onStatus}\n                />\n            ))}\n         </Space>\n         </div>\n    )\n}\n\nexport default LiveCards\n","import styled from 'styled-components'\n\nexport const LiveWrapper = styled.div`\n  .new-button {\n    margin: 20px 0;\n    background: #5276F0;\n    border-color: #5276F0;\n  }\n`","import React, { memo } from 'react'\nimport { useState, useEffect } from 'react'\n\nimport { getVideos, createVideo, deleteVideo } from \"@/services/manage\";\nimport AddLiveRoom from './components/AddLiveRoom'\nimport LiveCards from './components/LiveCards'\nimport { LiveWrapper } from './style';\nimport { Empty , message} from 'antd';\n\nexport default memo(function VideoManage() {\n    const [liveCards, setLiveCards] = useState([])\n\n    useEffect(() => {\n        getVideos().then(res => {\n            setLiveCards(res.success.list);\n            console.log(res.success);\n        })\n    },\n        []\n    )\n\n    const success = () => {\n        message.success('删除成功！');\n    };\n\n    // add live card\n    const addLiveCard = (title, des) => {\n        createVideo(title, des).then(res => {\n            // console.log(res);\n            getVideos().then(res => {\n                setLiveCards(res.success.list);\n            })\n        });\n    }\n\n    // handle delete card\n    const deleteLiveCard = (id) => {\n        deleteVideo(id).then(res=>{\n            success()\n            getVideos().then(res => {\n                setLiveCards(res.success.list)\n            })\n        })\n    }\n\n    const reverseStatus = (id) => {\n        setLiveCards(\n            liveCards.map((liveCard) =>\n                liveCard.id === id ? { ...liveCard, status: !liveCard.status } : liveCard\n            )\n        )\n    }\n\n    return (\n        <LiveWrapper>\n            <div>\n                <h2>短视频页</h2>\n                <AddLiveRoom onAdd={addLiveCard} />\n                {liveCards.length > 0 ?\n                    (\n                        <LiveCards liveCards={liveCards} onDelete={deleteLiveCard} onStatus={reverseStatus} />\n                    )\n                    : (\n                        <>\n                            <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"空空如也～ 点击上传视频来上传你的第一个作品吧!\" />\n                        </>\n                    )\n                }\n            </div>\n        </LiveWrapper>\n    )\n\n})\n","import styled from 'styled-components'\n\nexport const LiveWrapper = styled.div`\n  .new-button {\n    margin: 20px 0;\n    background: #5276F0;\n    border-color: #5276F0;\n  }\n`","import styled from 'styled-components'\n\nexport const CardWrapper = styled.div`\n  .ant-card-actions {\n    position: absolute;\n    right: 0;\n    bottom: 0;\n  }\n\n  .ant-tag {\n    position:absolute;\n    top: 10px;\n    left: 10px;\n  }\n`\n","import { Card, Menu, Dropdown } from 'antd';\nimport { EllipsisOutlined } from '@ant-design/icons';\n\nimport React from 'react'\nimport { CardWrapper } from './style';\n\nconst { Meta } = Card;\n\nconst LiveCard = ({ liveCard, onDelete, onStatus, onDetail }) => {\n    const menu = () => {\n        return (\n            <Menu>\n                <Menu.Item onClick={() => onStatus(liveCard.videoId)}>\n                    {liveCard.status ? \"下播\" : \"上线\"}\n                </Menu.Item>\n                <Menu.Item onClick={() => onDelete(liveCard.videoId)}>\n                    删除\n            </Menu.Item>\n            </Menu>\n        )\n    }\n\n    return (\n        <CardWrapper>\n            <Card size=\"small\"\n                onClick={() => { onDetail(liveCard.videoId) }}\n                style={{ width: 300 }}\n                cover={\n                    <img\n                        alt=\"userAdd\"\n                        src=\"https://s3.ax1x.com/2021/02/23/ybuuad.jpg\"\n                    />\n                }\n                hoverable={true}\n                actions={[\n                    <Dropdown overlay={menu} placement=\"topCenter\" arrow>\n                        <EllipsisOutlined key=\"ellipsis\" />\n                    </Dropdown>\n                ]}\n            >\n                <Meta\n                    title={liveCard.videoName}\n                    description={liveCard.updatedAt}\n                />\n                {/* {liveCard.status ? <Tag color=\"#82C2C4\">直播中</Tag> : <Tag color=\"#E9967A\">已暂停</Tag>} */}\n\n            </Card>\n        </CardWrapper>\n    )\n}\n\nexport default LiveCard","import LiveCard from './LiveCard'\nimport { Space } from 'antd';\n\nconst LiveCards = ({ liveCards, onDelete, onStatus, onDetail }) => {\n    return (\n        <div>\n            <Space size={[60, 30]} wrap>\n                {liveCards.map((liveCard) => (\n                    <LiveCard liveCard={liveCard}\n                        key={liveCard.videoId}\n                        onDelete={onDelete}\n                        onStatus={onStatus}\n                        onDetail={onDetail} \n                    />\n                ))}\n            </Space>\n        </div>\n    )\n}\n\nexport default LiveCards\n","import { Empty } from 'antd';\nimport React from 'react'\nimport { useState, useEffect } from 'react'\nimport { withRouter } from 'react-router-dom';\n\nimport { getVideos } from \"@/services/manage\";\nimport { LiveWrapper } from './style';\nimport LiveCards from './components/LiveCards'\n\nfunction CommentManage(props) {\n    const [liveCards, setLiveCards] = useState([])\n\n    useEffect(() => {\n        getVideos().then(res => {\n            setLiveCards(res.success.list);\n            console.log(res.success);\n        })\n    },\n        []\n    )\n\n    // handle delete card\n    const deleteLiveCard = (id) => {\n        setLiveCards(liveCards.filter((liveCard) => liveCard.id !== id))\n    }\n\n    const reverseStatus = (id) => {\n        setLiveCards(\n            liveCards.map((liveCard) =>\n                liveCard.id === id ? { ...liveCard, status: !liveCard.status } : liveCard\n            )\n        )\n    }\n\n    const toDetail = (id) => {\n        console.log(id);\n        props.history.push({\n            pathname: \"/detail\",\n            query: {\n                videoId: id\n            }\n        });\n    }\n\n    return (\n        <LiveWrapper>\n            <div>\n                {liveCards.length > 0 ?\n                    (\n                        <>\n                            <h2>短视频列表</h2>\n                            <LiveCards liveCards={liveCards} onDelete={deleteLiveCard} onStatus={reverseStatus} onDetail={toDetail} />\n                        </>\n                    )\n                    : (\n                        <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"还没有直播哦～ \" />\n                    )\n                }\n            </div>\n        </LiveWrapper>\n    )\n}\nexport default withRouter(CommentManage);\n","import styled from 'styled-components'\n\nexport const DetailWrapper = styled.div`\n    .edit {\n        color: #5276F0;\n        font-size: 12px;\n    }\n\n    .delete {\n        color: #c0392b;\n        margin-left: 4px;\n        font-size: 12px;\n    }\n`","import Login from \"@/pages/login\";\nimport LiveManage from \"@/pages/live-manage\";\nimport VideoManage from \"@/pages/video-manage\";\nimport CommentManage from \"@/pages/comment-manage\";\nimport CommentDetail from \"@/pages/comment-detail\";\n\n\nconst routes = [\n    {\n        path: \"/\",\n        exact: true,\n        component: LiveManage,\n        requiresAuth: true\n    },\n    {\n        path: \"/login\",\n        component: Login,\n        requiresAuth: false\n    },\n    {\n        path: \"/live\",\n        component: LiveManage,\n        requiresAuth: true\n    },\n    {\n        path: \"/video\",\n        component: VideoManage,\n        requiresAuth: true\n    },\n    {\n        path: \"/comment\",\n        component: CommentManage,\n        requiresAuth: true\n    },\n    {\n        path: \"/detail\",\n        component: CommentDetail,\n        requiresAuth: true\n    }\n]\n\nexport default routes;","import { Comment, List, Button } from 'antd';\nimport React from 'react'\nimport { useState, useEffect } from 'react'\n\nimport { DetailWrapper } from './style';\nimport { getComment } from \"@/services/manage\";\n\nexport default function CommentDetail(props) {\n    const videoId = props.location.query.videoId;\n    const [list, setList] = useState([])\n\n    useEffect(() => {\n        getComment(videoId).then(res => {\n            setList(res.data);\n            console.log(res.data);\n        });\n    },\n        [videoId]\n    )\n\n    return (\n        <DetailWrapper className=\"wrap-v2\">\n            <List\n                className=\"comment-list\"\n                header={`${list.length} 条评论`}\n                itemLayout=\"horizontal\"\n                dataSource={list}\n                renderItem={item => (\n                    <li >\n                        <Comment\n                            actions={[<Button className=\"edit\" type=\"text\">编辑</Button>, <Button className=\"delete\" type=\"text\">删除</Button>]}\n                            content={item.comment}\n                            datetime={item.updatedAt}\n                        />\n                    </li>\n                )}\n            />\n        </DetailWrapper>\n    )\n}\n","import styled from 'styled-components'\n\nexport const FrameWrapper = styled.div`\n  .logo {\n    float: left;\n    width: 120px;\n    height: 31px;\n    line-height: 33px;\n    font-size: 14px;\n    margin: 16px 24px 16px 0;\n  }\n\n  .login {\n    position: absolute;\n    right: 40px;\n    top: 16px;\n  }\n\n  .ant-layout {\n    width:100%;\n    height:100vh; \n  }\n\n  .site-layout-background {\n    height: 100%;\n    background: #fff;\n    overflow: auto;\n    padding: 16px 28px;\n  }\n\n  .ant-layout-header {\n    background: white;\n  }\n\n  .ant-menu {\n    background: white;\n    color: black;\n  }\n\n  .ant-menu-item {\n    color: black;\n  }\n\n  .ant-menu.ant-menu-dark .ant-menu-item-selected, \n  .ant-menu-dark .ant-menu-item:hover {\n    color: #5276F0;\n    background-color: transparent;\n  }\n`","import { Layout, Menu, Button , message} from 'antd';\n\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport { isLogin, removeToken } from \"@/store/auth\";\nimport { FrameWrapper } from './style';\n\nconst { Header, Content, Footer } = Layout;\n\nconst warning = () => {\n    message.warning('已登出');\n  };\n\nfunction Frame(props) {\n    const handleLog = () => {\n        if (isLogin()){\n            warning();\n            removeToken();\n        }\n        props.history.push(\"/login\");\n    }\n\n    return (\n        <FrameWrapper>\n            <Layout>\n                <Header style={{ position: 'fixed', zIndex: 1, width: '100%' }}>\n                    <div className=\"logo\">后台管理系统</div>\n                    <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['1']}>\n                        <Menu.Item key=\"1\" onClick={p => { isLogin() ? props.history.push(\"/live\") : props.history.push(\"/login\") }} >直播间管理</Menu.Item>\n                        <Menu.Item key=\"2\" onClick={p => { isLogin() ? props.history.push(\"/video\") : props.history.push(\"/login\") }} >短视频管理</Menu.Item>\n                        <Menu.Item key=\"3\" onClick={p => { isLogin() ? props.history.push(\"/comment\") : props.history.push(\"/login\") }} >评论管理</Menu.Item>\n                    </Menu>\n                    <Button className=\"login\" type=\"text\" onClick={handleLog} >{isLogin() ? \"退出\" : \"登录\"}</Button>\n                </Header>\n                <Content className=\"site-layout\" style={{ padding: '20px 48px', marginTop: 64 }}>\n                    <div className=\"site-layout-background\" >\n                        {props.children}\n                    </div>\n                </Content>\n                <Footer style={{ textAlign: 'center' }}>©2021 Created by TechTrainingCamp Frontend 10</Footer>\n            </Layout>\n        </FrameWrapper>\n    )\n}\nexport default withRouter(Frame);","import React, { memo } from 'react'\nimport { renderRoutes } from './router/renderRoutes';\n\nimport routes from './router';\n\nimport { BrowserRouter } from 'react-router-dom';\nimport Frame from '@/components/frame'\n\n\nconst authPath = \"/login\"\n\nexport default memo(function App() {\n  return (\n    <div>\n      <BrowserRouter>\n        <Frame>\n          {renderRoutes(routes, authPath)}\n        </Frame>\n      </BrowserRouter>\n    </div>\n  )\n})\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport \"@/assets/css/reset.css\";\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}